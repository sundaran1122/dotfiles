#!/bin/execlineb

define EDITOR nvim
define BROWSER firefox
define TERMINAL kitty
define SXHKD_SHELL dash
define SHELL zsh

foreground { 
	killall "picom"
		"sxhkd"
		"lemonbar"
		"controllemonbar"
		"bash"
		"dash"
		"bspc"
		"tiramisu"
		"xdotool"
		"keynav" 
		"xcape"
}

foreground { mkdir -p /tmp/wm }

# daemons
background { sxhkd }
background { picom --experimental-backend --backend glx }
foreground { dash -c "hsetroot -fill ~/wallpapers/wallpaper.png" }
foreground { keynav }

background { dash -c "~/.config/lemonbar/controllemonbar" }
background { dash "~/.scripts/lemonbar/updatedesktopmodule.bash" }
background { dash "~/.scripts/lemonbar/updatewindowmodule.bash" }
background { dash "~/.scripts/general/notification-server.bash" }

#
# xorg stuff
#
foreground { xrandr -s 1366x768 }
foreground { xsetroot -cursor_name left_ptr }
foreground { xset r rate 300 50 }
foreground { setxkbmap -option caps:super }

foreground { xcape -e "Super_L=Escape" }

#
# hot corners
#
background { xdotool behave_screen_edge --delay 1000 top-right key super+alt+s }

#
# bspwm stuff
#
foreground { bspc desktop -n Â· }

foreground { bspc config border_width         0 }
foreground { bspc config window_gap           1 }
foreground { bspc config left_padding        -1 }
foreground { bspc config right_padding       -1 }
foreground { bspc config bottom_padding      -1 }

foreground { bspc config split_ratio          		0.50 }
foreground { bspc config automatic_scheme         longest_side }
foreground { bspc config ignore_ewmh_focus        true }
foreground { dash -c "bspc config external_rules_command  $HOME/.config/bspwm/external_rules" }

foreground { bspc config focused_border_color     "#88C0D0" }
foreground { bspc config presel_feedback_color    "#8FBCBB" }
foreground { bspc config focus_follows_pointer    true }
foreground { bspc config pointer_follows_focus    true }
foreground { bspc config pointer_follows_monitor  true }

# rules
foreground { bspc rule -a Gimp state=floating }
foreground { bspc rule -a *:*:Dialog state=floating }
foreground { bspc rule -a *:*:Alert manage=off }
foreground { bspc rule -a Kupfer.py focus=on }
foreground { bspc rule -a Screenkey manage=off }
foreground { bspc rule -a Jami-gnome state=floating sticky=on }
foreground { bspc rule -a firefox:\*:Picture-in-Picture state=floating sticky=on rectangle=480x270+886+497 }

#resize stuff
foreground { bspc config pointer_modifier mod4 }
foreground { bspc config pointer_action1 move }
bspc config pointer_action2 resize_corner
